schemaVersion: 2.1.0
metadata:
  name: multi-post-start
components:
  - name: tools
    container:
      image: quay.io/devfile/universal-developer-image
commands:
  # Post-start events
  - id: event-one
    exec:
      commandLine: >-
        sleep 5 &&
        date > event-one-date.txt &&
        sh -c "echo $(date): first command >> /tmp/poststart.log"' &&
        sleep 5
      component: tools
      label: ""
      workingDir: "${HOME}"
  - id: event-two
    exec:
      commandLine: >-
        sleep 5 &&
        date > event-two-date.txt &&
        sh -c "echo $(date): second command >> /tmp/poststart.log"' &&
        sleep 5
      component: tools
      label: ""
      workingDir: "${HOME}"
  - id: event-three
    exec:
      commandLine: >-
        sleep 5 &&
        date > event-three-date.txt &&
        sh -c "echo $(date): third command >> /tmp/poststart.log"' &&
        sleep 5
      component: tools
      label: ""
      workingDir: "${HOME}"
events:
  postStart:
    - event-one
    - event-two
    - event-three
